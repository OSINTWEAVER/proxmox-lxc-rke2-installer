# INVENTORY TEMPLATE
#
# This is a template for the inventory file.
#
# To use this template, create a copy of this file and name it <env>.ini
# Then, fill in the variables in EVERY SECTION below.
#

[rke2_cluster:children]
rke2_servers
rke2_agents

[rke2_cluster:vars]
# Basic cluster configuration
rke2_token=<random alphanumeric token>
rke2_api_ip=xxx.xxx.xxx.xxx
rke2_version=v1.30.6+rke2r1

# Network configuration (adjust for your VLAN/subnet)
cluster_cidr=10.42.0.0/16
service_cidr=10.43.0.0/16
cluster_dns=10.43.0.10

# Configurable naming (maintains backward compatibility)
node_name_prefix=os-<env>-
gpu_node_pattern=gpu

# The file where to store the kubernetes client configuration
rke2_download_kubeconf_file_name=<env>.yaml

# Configure the local-path-provisioner StorageClass
use_local_path_provisioner=true

# Storage configuration
local_path_provisioner_path=/mnt/data

# Rancher UI installation
install_rancher=true
rancher_hostname=rancher.local
rancher_bootstrap_password=<change-me>

# Compatibility variable for ansible-role-rke2
k8s_cluster=rke2_cluster

[rke2_servers]
# Control plane machines
# Entry format: <IPv4 address> ansible_user=<username> rke2_type=server
# Example: 10.14.100.1 ansible_user=adm4n rke2_type=server

[rke2_agents]
# Worker machines (including GPU nodes)
# Entry format: <IPv4 address> ansible_user=<username> rke2_type=agent
# Example: 10.14.100.2 ansible_user=adm4n rke2_type=agent
# Example: 10.14.100.3 ansible_user=adm4n rke2_type=agent
#
# GPU nodes are automatically detected by having the gpu_node_pattern in their resolved hostname